import { Head, Appear } from 'mdx-deck';
import Text from './components/Text';
import Handle from './components/Handle';
import BigHandle from './components/BigHandle';
import WithHandle from './layouts/WithHandle';
import Image from './components/Image';
import List from './components/List';
import Heading from './components/Heading';
import Highlight from './components/Highlight';
import { colors } from './styles/variables';

export { default as theme } from './theme';

<Head>
  <title>Components Everyone Can Use</title>
  <link
    href="https://fonts.googleapis.com/css?family=Fredoka+One|Bowlby+One+SC|Inconsolata|Source+Sans+Pro"
    rel="stylesheet"
  />
</Head>

<h1>
  <Text font="secondary" size="xxl" weight="bold">
    Components Everyone Can Use
  </Text>
</h1>

<h2>
  <Text size="lg" font="secondary" weight="normal">
    Getting started with accessibility in React
  </Text>
</h2>

<BigHandle />

---

export default WithHandle;

<h2>
  <Text size="xxxl" weight="bold" font="secondary">
    Accessibility
  </Text>
</h2>

<h3>
  <Text size="lg" font="secondary">
    (a.k.a.{' '}
    <Highlight weight="bold" textColor={colors.blue[500]}>
      a11y
    </Highlight>
    )
  </Text>
</h3>

```notes
TODO formatting
We're already somewhat familiar with the concept of accessibility
```

---

export default WithHandle;

<h2>
  <Text size="xxl" font="secondary">
    Disability
  </Text>
</h2>

<Appear>
  <h3>
    <Text size="xl" font="secondary">
      Any condition that keeps <br /> users from effectively using your product
    </Text>
  </h3>
</Appear>

---

export default WithHandle;

<Heading>Permanent disability</Heading>

---

export default WithHandle;

<List useAppear>
  <Text font="secondary" size="xl">
    🕶 Blindness / low vision
  </Text>
  <Text font="secondary" size="xl">
    👋 Muscle tremors
  </Text>
  <Text font="secondary" size="xl">
    ♿️ Amputated limb
  </Text>
  <Text font="secondary" size="xl">
    👂 Deafness
  </Text>
  <Text font="secondary" size="xl">
    🧠 Cognitive disability
  </Text>
</List>

```notes
TODO -- make the list look nice and maybe appear in order?
```

---

export default WithHandle;

<Heading>Temporary disability</Heading>

---

export default WithHandle;

<List useAppear>
  <Text font="secondary" size="xl">
    🏥 Broken arm / finger
  </Text>
  <Text font="secondary" size="xl">
    👁 Eyes dilated
  </Text>
  <Text font="secondary" size="xl">
    👓 Lost glasses
  </Text>
  <Text font="secondary" size="xl">
    👂 Ruptured eardrum
  </Text>
</List>

```notes
Further, we've all likely experienced a situation that made us temporarily disabled in one way or another
Talk about my broken toe, how I was unable to drive (manual transmission), had trouble getting up the steps to my apartment without help, etc.
Eyes dilated is another example
```

---

export default WithHandle;

<Heading>Situational disability</Heading>

---

export default WithHandle;

<List useAppear>
  <Text font="secondary" size="xl">
    🔅 Glaring sunlight
  </Text>
  <Text font="secondary" size="xl">
    🍻 Noisy bar
  </Text>
  <Text font="secondary" size="xl">
    👶 Mother holding baby
  </Text>
</List>

```notes
If we haven't been temporarily disabled, we've definitely experienced a situation that inihibited our normal ability
  - think driving nito the sun, you may as well be blind
  - in a loud bar, may as well be deaf if someone is trying to talk to you.
```

---

export default WithHandle;

<Heading size="xxxl">Accessibility isn't an edge case!</Heading>

---

export default WithHandle;

<Heading>
  At least <Highlight textColor={colors.blue[500]}>15%</Highlight> of the{' '}
  <Highlight textColor={colors.blue[500]}>world population</Highlight> has a
  disability
</Heading>

```notes
For America, those numbers are more difficult to find up-to-date information.

The most recent numbers are the 2012 census, where it was found that roughly
  - 18% of Americans have a disability,
  - 12% of Americans identify their disability as severe.
```

---

export default WithHandle;

<Heading size="xxl" align="left" padding="0 15vw">
  Why do we skip a11y so
  much? 😱
</Heading>

```notes
Reasons we often skip accessibility

Rarely is the reason because we actually dislike disabled people.

If we went around the room and asked everyone if they hate blind people or people with
autism my guess is most (hopefully all) of you would say, "No, they're people too and deserve to be treated as such!"

Time
Awareness
Don't know where to start
```

---

export default WithHandle;

<Heading size="xxl">Reason #1:</Heading>
<Heading size="xxxl">
  Accessibility feels too daunting
</Heading>

---

export default WithHandle;

<Heading size="xxl">Reason #2:</Heading>
<Heading size="xxxl">
  I don't have time!
</Heading>

---

export default WithHandle;

<Heading size="xxxl">Start small</Heading>

---

export default WithHandle;

<Heading>
  Make{' '}
  <Highlight textColor={colors.blue[500]} radius="10px">
    accessible components
  </Highlight>
  , and the rest will follow
</Heading>

---

export default WithHandle;

<Heading size="xxl">
  Encourage best practices <br /> in your{' '}
  <Highlight textColor={colors.blue[500]}>component APIs</Highlight>
</Heading>

---

export default WithHandle;

<Heading size="xl">prop-types</Heading>

```jsx
import React from 'react';

const Image = ({ src, alt }) => <img src={src} alt={alt} />;

Image.propTypes = {
  src: PropTypes.string.isRequired,
  alt: PropTypes.string.isRequired,
};

export default Image;
```

```notes
It's a lot easier to make 1 component accessible than it is to make an entire website accessible.
This helps curb the feeling that a11y is a daunting task that's too big to even start.
```

---

export default WithHandle;

<Heading size="xxl">
  Learn how to manually <br /> test accessibility
</Heading>

---

export default WithHandle;

<List useAppear>
  <Text font="secondary" size="xxl" align="left">
    📣 Set up a screen reader
  </Text>
  <Text font="secondary" size="xxl" align="left">
    🖱 Use your app without a mouse
  </Text>
  <Text font="secondary" size="xxl" align="left">
    🔇 Turn off your volume
  </Text>
</List>

```notes
TODO -- use an <Appear /> and make these look cool
```

---

export default WithHandle;

<Heading size="xxl">Automate accessibility testing</Heading>

---

export default WithHandle;

<List useAppear>
  <Text font="secondary" size="xxl" align="left">
    ✅ ESLint (react/jsx-a11y)
  </Text>
  <Text font="secondary" size="xxl" align="left">
    🚢 Lighthouse
  </Text>
  <Text font="secondary" size="xxl" align="left">
    🔨 Axe / jest-axe
  </Text>
</List>

---

export default WithHandle;

<Heading size="xl">jest-axe</Heading>

```jsx
import React from 'react';
import { render } from 'react-testing-library';
import Image from './Image';
import { axe, toHaveNoViolations } from 'jest-axe';

expect.extend(toHaveNoViolations);

describe('<Image />', () => {
  test('should be accessible', async () => {
    const { container } = render(
      <Image src="my-image-path.png" alt="something descriptive" />
    );

    const html = container.innerHTML;
    expect(await axe(html)).toHaveNoViolations();
  });
});
```
