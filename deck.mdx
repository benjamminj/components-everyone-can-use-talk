import { Head, Appear } from 'mdx-deck';
import Text from './components/Text';
import Handle from './components/Handle';
import BigHandle from './components/BigHandle';
import WithHandle from './layouts/WithHandle';
import Image from './components/Image';
import Heading from './components/Heading';
import Highlight from './components/Highlight';
import { colors } from './styles/variables';

export { default as theme } from './theme';

<Head>
  <title>Components Everyone Can Use</title>
  <link
    href="https://fonts.googleapis.com/css?family=Fredoka+One|Bowlby+One+SC|Inconsolata|Source+Sans+Pro"
    rel="stylesheet"
  />
</Head>

<h1>
  <Text font="secondary" size="xxl" weight="bold">
    Components Everyone Can Use
  </Text>
</h1>

<h2>
  <Text size="lg" font="secondary" weight="normal">
    Getting started with accessibility in React
  </Text>
</h2>

<BigHandle />

---

export default WithHandle;

<h2>
  <Text size="xxxl" weight="bold" font="secondary">
    Accessibility
  </Text>
</h2>

<h3>
  <Text size="lg" font="secondary">
    (a.k.a.{' '}
    <Highlight background={colors.blue[100]} textColor={colors.blue[900]}>
      a11y
    </Highlight>
    )
  </Text>
</h3>

```notes
TODO formatting
We're already somewhat familiar with the concept of accessibility
```

---

export default WithHandle;

<h2>
  <Text size="xxl" font="secondary">
    DISABILITY
  </Text>
</h2>

<Appear>
  <h3>
    <Text size="lg" font="secondary">
      ANY CONDITION THAT KEEPS USERS FROM EFFECTIVELY USING YOUR PRODUCT
    </Text>
  </h3>
</Appear>

---

export default WithHandle;

<Heading>PERMANENT</Heading>

- blindness / low vision ğŸ•¶
- muscle tremors ğŸ‘‹
- amputated limb â™¿ï¸
- deafness ğŸ‘‚
- Cognitive disorders ğŸ§ 

```notes
TODO -- make the list look nice and maybe appear in order?
```

---

export default WithHandle;

<Heading>TEMPORARY</Heading>

- broken arm / finger ğŸ¥
- eyes dilated ğŸ‘
- lost glasses ğŸ‘“
- ruptured eardrum ğŸ‘‚

```notes
Further, we've all likely experienced a situation that made us temporarily disabled in one way or another
Talk about my broken toe, how I was unable to drive (manual transmission), had trouble getting up the steps to my apartment without help, etc.
Eyes dilated is another example
```

---

export default WithHandle;

<Heading>SITUATIONAL</Heading>

- glaring sunlight ğŸŒ
- noisy bar ğŸ»
- mother holding baby ğŸ¼

```notes
If we haven't been temporarily disabled, we've definitely experienced a situation that inihibited our normal ability
  - think driving nito the sun, you may as well be blind
  - in a loud bar, may as well be deaf if someone is trying to talk to you.
```

---

export default WithHandle;

<Heading size="xxxl">Accessibility isn't an edge case!</Heading>

---

export default WithHandle;

<Heading>At least 15% of the world population has a disability</Heading>

```notes
For America, those numbers are more difficult to find up-to-date information.

The most recent numbers are the 2012 census, where it was found that roughly
  - 18% of Americans have a disability,
  - 12% of Americans identify their disability as severe.
```

---

export default WithHandle;

<Heading size="xxl" align="left" padding="0 15vw">
  So why do we skip a11y so much? ğŸ˜±
</Heading>

```notes
Reasons we often skip accessibility

Rarely is the reason because we actually dislike disabled people.

If we went around the room and asked everyone if they hate blind people or people with
autism my guess is most (hopefully all) of you would say, "No, they're people too and deserve to be treated as such!"

Time
Awareness
Don't know where to start
```

---

export default WithHandle;

<Heading size="xxxl">
  AWARENESS & <br />
  EMPATHY
</Heading>

---

export default WithHandle;

- Set up a screen reader
- Use your app without a mouse
- Turn off your volume

```notes
TODO -- use an <Appear /> and make these look cool
```

---

export default WithHandle;

<Heading size="xxxl">
  But I don't have time <br /> to learn accessibility!
</Heading>

---

export default WithHandle;

<Heading>
  Let's use{' '}
  <Highlight background="transparent" textColor={colors.blue[500]}>
    components
  </Highlight>{' '}
  as the first line of defense
</Heading>

---

export default WithHandle;

<Heading size="xl">prop-types</Heading>

```jsx
import React from 'react';

const Image = ({ src, alt }) => <img src={src} alt={alt} />;

Image.propTypes = {
  src: PropTypes.string.isRequired,
  alt: PropTypes.string.isRequired,
};

export default Image;
```

```notes
It's a lot easier to make 1 component accessible than it is to make an entire website accessible.
This helps curb the feeling that a11y is a daunting task that's too big to even start.
```

---

export default WithHandle;

<Heading size="xl">Automate testing for a11y </Heading>

- eslint (react/jsx-a11y)
- lighthouse
- axe-core & jest-axe

---

export default WithHandle;

<Heading size="xl">jest-axe</Heading>

```jsx
import React from 'react';
import { render } from 'react-testing-library';
import Image from './Image';
import { axe, toHaveNoViolations } from 'jest-axe';

expect.extend(toHaveNoViolations);

describe('<Image />', () => {
  test('should be accessible', async () => {
    const { container } = render(
      <Image src="my-image-path.png" alt="something descriptive" />
    );

    const html = container.innerHTML;
    expect(await axe(html)).toHaveNoViolations();
  });
});
```
